{"ast":null,"code":"import { getAuth, createUserWithEmailAndPassword, onAuthStateChanged, signInWithEmailAndPassword, signOut } from 'firebase/auth';\nimport { getDoc, setDoc, doc, updateDoc, collection, getDocs } from \"firebase/firestore\";\nimport { db } from './firebaseConfig.js';\nimport PlaylistModel from './playlistModel.js';\n\nclass Model {\n  constructor() {\n    this.currentGenre = null;\n    this.observers = [];\n    this.currentPlaylist = \"1\";\n    this.playlists = [];\n    this.playlist = null;\n    this.user = null;\n    console.log(\"halloj\");\n    this.genreList = [{\n      id: \"132\",\n      name: \"Pop\",\n      img: \"https://images.freeimages.com/images/large-previews/056/concert-1189401.jpg\",\n      radio: \"37151\"\n    }, {\n      id: \"116\",\n      name: \"Rap/HipHop\",\n      img: \"https://images.freeimages.com/images/large-previews/61b/rip-the-mic-1-1502437.jpg\",\n      radio: \"30991\"\n    }, {\n      id: \"113\",\n      name: \"Dance\",\n      img: \"https://images.freeimages.com/images/large-previews/7ef/laser-effects-in-the-hague-1190079.jpg\",\n      radio: \"36891\"\n    }, {\n      id: \"165\",\n      name: \"R&B\",\n      img: \"https://images.freeimages.com/images/large-previews/c76/late-night-1550537.jpg\",\n      radio: \"30881\"\n    }, {\n      id: \"106\",\n      name: \"Electro\",\n      img: \"https://images.freeimages.com/images/large-previews/733/dj-dancing-1462436.jpg\",\n      radio: \"30621\"\n    }, {\n      id: \"144\",\n      name: \"Reggae\",\n      img: \"https://images.freeimages.com/images/large-previews/71c/bobby-1427554.jpg\",\n      radio: \"31091\"\n    }, {\n      id: \"129\",\n      name: \"Jazz\",\n      img: \"https://images.freeimages.com/images/large-previews/946/sax-player-1254283.jpg\",\n      radio: \"31031\"\n    }, {\n      id: \"464\",\n      name: \"Metal\",\n      img: \"https://images.freeimages.com/images/large-previews/42d/angel-drummer-1559333.jpg\",\n      radio: \"30901\"\n    }, {\n      id: \"169\",\n      name: \"Soul and Funk\",\n      img: \"https://images.freeimages.com/images/large-previews/253/con-alma-de-guitarra-ii-1427669.jpg\",\n      radio: \"42402\"\n    }, {\n      id: \"152\",\n      name: \"Rock\",\n      img: \"https://images.freeimages.com/images/large-previews/996/he-who-rocks-hardest-4-series-1466876.jpg\",\n      radio: \"37765\"\n    }];\n  }\n\n  setCurrentGenre(genre) {\n    this.currentGenre = genre;\n    this.currentGenreArtists = null;\n    this.currentGenreError = null;\n    this.notifyObservers();\n  }\n\n  savePlaylist(playlist) {\n    this.playlist = playlist;\n    this.playlist.date = new Date();\n    this.playlists.push({\n      name: this.playlist.playlistName,\n      songs: this.playlist.songs,\n      date: this.playlist.date\n    });\n    console.log(this.playlists);\n    const docRef = doc(db, \"users\", this.user.uid); // (async () => {\n    // const doc = await getDoc(docRef);\n    // const data = doc.data();\n    // console.log(data);\n    // data.userPlaylists.forEach(list => this.playlists.push(list));\n    // // this.playlists.push(data)\n    // this.notifyObservers();\n    // })();\n\n    (async () => {\n      try {\n        const doc = await getDoc(docRef);\n        const data = doc.data();\n        console.log(data);\n        data.userPlaylists.forEach(list => this.playlists.push(list));\n        const userlist = this.playlists;\n        console.log(this.playlists); // const name = this.playlist.playlistName;\n\n        await updateDoc(doc(db, \"users\", this.user.uid), {\n          userPlaylists: userlist\n        });\n        this.notifyObservers();\n      } catch (e) {\n        console.error(\"Error adding playlist: \", e);\n      }\n    })();\n  }\n\n  addObserver(callback) {\n    this.observers = [...this.observers, callback];\n  }\n\n  removeObserver(callback) {\n    this.observers = this.observers.filter(obs => obs !== callback);\n  }\n\n  notifyObservers() {\n    this.observers.forEach(cb => {\n      try {\n        cb();\n      } catch (e) {\n        console.log(e);\n      }\n    });\n  }\n\n  LoginUser(email, password) {\n    const auth = getAuth();\n    signInWithEmailAndPassword(auth, email, password).then(userCredential => {\n      this.user = userCredential.user;\n      console.log(this.user); // const userlist = this.playlist;\n      // const name = this.playlist.playlistName;\n\n      this.getDataBaseInfo();\n    }).catch(error => {\n      console.log(error.code);\n      console.log(error.message);\n    });\n  }\n\n  getDataBaseInfo() {\n    const docRef = doc(db, \"users\", this.user.uid);\n\n    (async () => {\n      const doc = await getDoc(docRef);\n      const data = doc.data();\n      console.log(data); // this.playlists.push(data)\n\n      this.notifyObservers();\n    })();\n  }\n\n  RegisterUser(email, password) {\n    console.log(email, password);\n    const auth = getAuth();\n    createUserWithEmailAndPassword(auth, email, password).then(userCredential => {\n      this.user = userCredential.user;\n\n      (async () => {\n        try {\n          await setDoc(doc(db, \"users\", this.user.uid), {\n            userPlaylists: []\n          });\n        } catch (e) {\n          console.error(\"Error adding playlist: \", e);\n        }\n      })();\n\n      this.LoginUser(email, password);\n    }).catch(error => {\n      console.log(error.code);\n      console.log(error.message);\n    });\n  }\n\n  logoutUser() {\n    const auth = getAuth();\n    signOut(auth).then(() => {// Sign-out Succes\n    }).catch(error => {// Error occured\n    });\n  }\n\n} // const converter = {\n// toFirestore: (playlist) => {\n// return {\n// name: playlist.playlistName\n// };\n// },\n// fromFirestore: (snapshot, options) => {\n// const data = snapshot.data(options);\n// return new PlaylistModel();\n// }\n// };\n\n\nexport default Model;","map":{"version":3,"sources":["C:/Users/Karolina/Documents/GitHub/group-project-playlistgenerator/src/js/model.js"],"names":["getAuth","createUserWithEmailAndPassword","onAuthStateChanged","signInWithEmailAndPassword","signOut","getDoc","setDoc","doc","updateDoc","collection","getDocs","db","PlaylistModel","Model","constructor","currentGenre","observers","currentPlaylist","playlists","playlist","user","console","log","genreList","id","name","img","radio","setCurrentGenre","genre","currentGenreArtists","currentGenreError","notifyObservers","savePlaylist","date","Date","push","playlistName","songs","docRef","uid","data","userPlaylists","forEach","list","userlist","e","error","addObserver","callback","removeObserver","filter","obs","cb","LoginUser","email","password","auth","then","userCredential","getDataBaseInfo","catch","code","message","RegisterUser","logoutUser"],"mappings":"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","sourcesContent":["import {\r\n    getAuth,\r\n    createUserWithEmailAndPassword,\r\n    onAuthStateChanged,\r\n    signInWithEmailAndPassword,\r\n    signOut,\r\n} from 'firebase/auth';\r\nimport { getDoc, setDoc, doc, updateDoc, collection, getDocs } from \"firebase/firestore\";\r\nimport { db } from './firebaseConfig.js';\r\nimport PlaylistModel from './playlistModel.js';\r\nclass Model {\r\n    constructor() {\r\n        this.currentGenre = null;\r\n        this.observers = [];\r\n        this.currentPlaylist = \"1\";\r\n        this.playlists = [];\r\n        this.playlist = null;\r\n        this.user = null;\r\n        console.log(\"halloj\");\r\n        this.genreList = [\r\n            {\r\n                id: \"132\",\r\n                name: \"Pop\",\r\n                img: \"https://images.freeimages.com/images/large-previews/056/concert-1189401.jpg\",\r\n                radio: \"37151\"\r\n            },\r\n            {\r\n                id: \"116\",\r\n                name: \"Rap/HipHop\",\r\n                img: \"https://images.freeimages.com/images/large-previews/61b/rip-the-mic-1-1502437.jpg\",\r\n                radio: \"30991\"\r\n            },\r\n            {\r\n                id: \"113\",\r\n                name: \"Dance\",\r\n                img: \"https://images.freeimages.com/images/large-previews/7ef/laser-effects-in-the-hague-1190079.jpg\",\r\n                radio: \"36891\"\r\n\r\n            },\r\n            {\r\n                id: \"165\",\r\n                name: \"R&B\",\r\n                img: \"https://images.freeimages.com/images/large-previews/c76/late-night-1550537.jpg\",\r\n                radio: \"30881\"\r\n\r\n            },\r\n            {\r\n                id: \"106\",\r\n                name: \"Electro\",\r\n                img: \"https://images.freeimages.com/images/large-previews/733/dj-dancing-1462436.jpg\",\r\n                radio: \"30621\"\r\n            },\r\n            {\r\n                id: \"144\",\r\n                name: \"Reggae\",\r\n                img: \"https://images.freeimages.com/images/large-previews/71c/bobby-1427554.jpg\",\r\n                radio: \"31091\"\r\n            },\r\n            {\r\n                id: \"129\",\r\n                name: \"Jazz\",\r\n                img: \"https://images.freeimages.com/images/large-previews/946/sax-player-1254283.jpg\",\r\n                radio: \"31031\"\r\n            },\r\n            {\r\n                id: \"464\",\r\n                name: \"Metal\",\r\n                img: \"https://images.freeimages.com/images/large-previews/42d/angel-drummer-1559333.jpg\",\r\n                radio: \"30901\"\r\n            },\r\n            {\r\n                id: \"169\",\r\n                name: \"Soul and Funk\",\r\n                img: \"https://images.freeimages.com/images/large-previews/253/con-alma-de-guitarra-ii-1427669.jpg\",\r\n                radio: \"42402\"\r\n            },\r\n            {\r\n                id: \"152\",\r\n                name: \"Rock\",\r\n                img: \"https://images.freeimages.com/images/large-previews/996/he-who-rocks-hardest-4-series-1466876.jpg\",\r\n                radio: \"37765\"\r\n            }\r\n        ];\r\n    }\r\n\r\n\r\n    setCurrentGenre(genre) {\r\n        this.currentGenre = genre;\r\n        this.currentGenreArtists = null;\r\n        this.currentGenreError = null;\r\n        this.notifyObservers();\r\n    }\r\n\r\n    savePlaylist(playlist) {\r\n        this.playlist = playlist;\r\n        this.playlist.date = new Date();\r\n        this.playlists.push({ name: this.playlist.playlistName, songs: this.playlist.songs, date: this.playlist.date });\r\n        console.log(this.playlists)\r\n        const docRef = doc(db, \"users\", this.user.uid);\r\n        // (async () => {\r\n            // const doc = await getDoc(docRef);\r\n            // const data = doc.data();\r\n            // console.log(data);\r\n            // data.userPlaylists.forEach(list => this.playlists.push(list));\r\n            // // this.playlists.push(data)\r\n            // this.notifyObservers();\r\n        // })();\r\n        (async () => {\r\n            try {\r\n                const doc = await getDoc(docRef);\r\n                const data = doc.data();\r\n                console.log(data);\r\n                data.userPlaylists.forEach(list => this.playlists.push(list));  \r\n                const userlist = this.playlists;\r\n                console.log(this.playlists);\r\n                // const name = this.playlist.playlistName;\r\n                await updateDoc(doc(db, \"users\", this.user.uid), {\r\n                    userPlaylists: userlist,\r\n\r\n                });\r\n                this.notifyObservers();\r\n            }\r\n            catch (e) {\r\n                console.error(\"Error adding playlist: \", e);\r\n            }\r\n        })();\r\n    }\r\n\r\n    addObserver(callback) {\r\n        this.observers = [...this.observers, callback];\r\n    }\r\n    removeObserver(callback) {\r\n        this.observers = this.observers.filter(obs => obs !== callback);\r\n    }\r\n    notifyObservers() {\r\n        this.observers.forEach(cb => {\r\n            try { cb() } catch (e) { console.log(e) }\r\n        });\r\n    }\r\n\r\n    LoginUser(email, password) {\r\n        const auth = getAuth();\r\n\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((userCredential) => {\r\n                this.user = userCredential.user;\r\n                console.log(this.user);\r\n\r\n                // const userlist = this.playlist;\r\n                // const name = this.playlist.playlistName;\r\n                this.getDataBaseInfo();\r\n            })\r\n            .catch\r\n            ((error) => {\r\n                console.log(error.code);\r\n                console.log(error.message);\r\n            });\r\n    }\r\n    getDataBaseInfo() {\r\n        const docRef = doc(db, \"users\", this.user.uid);\r\n        (async () => {\r\n            const doc = await getDoc(docRef);\r\n            const data = doc.data();\r\n            console.log(data);\r\n            // this.playlists.push(data)\r\n            this.notifyObservers();\r\n        })();\r\n    }\r\n\r\n\r\n    RegisterUser(email, password) {\r\n        console.log(email, password);\r\n        const auth = getAuth();\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then((userCredential) => {\r\n                this.user = userCredential.user;\r\n                (async () => {\r\n                    try {\r\n                        await setDoc(doc(db, \"users\", this.user.uid), {\r\n                            userPlaylists: []\r\n\r\n                        });\r\n                    }\r\n                    catch (e) {\r\n                        console.error(\"Error adding playlist: \", e);\r\n                    }\r\n                })();\r\n\r\n                this.LoginUser(email, password);\r\n            })\r\n            .catch((error) => {\r\n                console.log(error.code);\r\n                console.log(error.message);\r\n            });\r\n    }\r\n\r\n    logoutUser() {\r\n        const auth = getAuth();\r\n        signOut(auth)\r\n            .then(() => {\r\n                // Sign-out Succes\r\n            })\r\n            .catch((error) => {\r\n                // Error occured\r\n            });\r\n    }\r\n\r\n}\r\n// const converter = {\r\n// toFirestore: (playlist) => {\r\n// return {\r\n// name: playlist.playlistName\r\n// };\r\n// },\r\n// fromFirestore: (snapshot, options) => {\r\n// const data = snapshot.data(options);\r\n// return new PlaylistModel();\r\n// }\r\n// };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Model;"]},"metadata":{},"sourceType":"module"}