{"ast":null,"code":"class PlaylistModel {\n  constructor() {\n    this.playlistID = \"1\";\n    this.playlistName = \"Edit Name\";\n    this.chosenNumberOfSongs = 0;\n    this.actualNumberOfSongs = 0;\n    this.explicit = false;\n    this.genres = [];\n    this.currentSong = null;\n    this.songs = [];\n    this.observers = [];\n    this.artist = null;\n    this.total = 0;\n    this.currentSong = null;\n    this.currentAudio = null;\n    this.playlistDone = false;\n  }\n\n  addGenre(radioID, value, name) {\n    if (value == 0) {\n      console.log(\"remove\");\n      this.removeGenre(radioID);\n      this.setTotalPercent();\n      return;\n    }\n\n    if (this.genres.some(g => g.id === radioID)) {\n      this.genres.find(g => g.id === radioID).value = value / 100;\n      this.setTotalPercent();\n      return;\n    }\n\n    this.genres = [...this.genres, {\n      id: radioID\n    }];\n    this.genres.find(x => x.id === radioID).value = value / 100;\n    this.genres.find(x => x.id === radioID).name = name;\n    console.log(this.genres);\n    this.setTotalPercent();\n    console.log(this.total);\n    this.notifyObservers();\n  }\n\n  removeGenre(radioID) {\n    this.genres = this.genres.filter(genre => genre.id !== radioID);\n    this.notifyObservers();\n  }\n\n  setTotalPercent() {\n    let total = 0;\n    this.genres.forEach(genre => {\n      total += genre.value;\n    });\n    this.total = total;\n    this.notifyObservers();\n  }\n\n  setNumberOfSongs(length) {\n    this.chosenNumberOfSongs = length;\n    console.log(this.chosenNumberOfSongs);\n    this.notifyObservers();\n  }\n\n  setActualNumberOfSongs(length) {\n    this.actualNumberOfSongs += length;\n\n    if (this.actualNumberOfSongs >= this.chosenNumberOfSongs) {\n      return;\n    }\n\n    console.log(this.actualNumberOfSongs);\n    this.notifyObservers();\n  }\n\n  setExplicit(choice) {\n    console.log(choice);\n    this.explicit = choice;\n    console.log(this.explicit);\n    this.notifyObservers();\n  }\n\n  setPlaylistName(name) {\n    this.playlistName = name;\n    this.notifyObservers();\n  }\n\n  setCurrentSong(song) {\n    if (this.currentSong === song) {\n      this.removeCurrentAudio();\n      return;\n    }\n\n    if (this.currentAudio !== null) {\n      this.removeCurrentAudio();\n    }\n\n    this.currentSong = song;\n    this.setCurrentAudio(song);\n    this.notifyObservers();\n  }\n\n  setCurrentAudio(song) {\n    this.currentAudio = new Audio();\n    this.currentAudio.src = song.preview;\n    this.currentAudio.play();\n    this.notifyObservers();\n  }\n\n  removeCurrentAudio() {\n    this.currentAudio.pause();\n    this.currentSong = null;\n    this.notifyObservers();\n  }\n\n  addSongsToPlaylist(arrayWithSongs) {\n    console.log(this.chosenNumberOfSongs);\n\n    if (this.songs.length >= this.chosenNumberOfSongs) {\n      return;\n    }\n\n    this.songs = this.songs.concat(arrayWithSongs);\n    console.log(this.actualNumberOfSongs);\n    this.playlistDone = true;\n    this.notifyObservers();\n  }\n\n  addArtist(artist) {\n    this.artist = artist;\n    this.notifyObservers();\n  }\n\n  removeArtist() {\n    this.artist = null;\n    this.notifyObservers();\n  }\n\n  addObserver(callback) {\n    this.observers = [...this.observers, callback];\n  }\n\n  removeObserver(callback) {\n    this.observers = this.observers.filter(obs => obs !== callback);\n  }\n\n  notifyObservers() {\n    this.observers.forEach(cb => {\n      try {\n        cb();\n      } catch (e) {\n        console.log(e);\n      }\n    });\n  }\n\n  setcurrentSong(id) {\n    if (this.currentSong = id) {\n      return;\n    }\n\n    this.currentSong = id;\n    this.notifyObservers();\n  }\n\n}\n\nexport default PlaylistModel;","map":{"version":3,"sources":["C:/Users/Nicole/Desktop/Projekt grupp 28/playlistgenerator/src/js/playlistModel.js"],"names":["PlaylistModel","constructor","playlistID","playlistName","chosenNumberOfSongs","actualNumberOfSongs","explicit","genres","currentSong","songs","observers","artist","total","currentAudio","playlistDone","addGenre","radioID","value","name","console","log","removeGenre","setTotalPercent","some","g","id","find","x","notifyObservers","filter","genre","forEach","setNumberOfSongs","length","setActualNumberOfSongs","setExplicit","choice","setPlaylistName","setCurrentSong","song","removeCurrentAudio","setCurrentAudio","Audio","src","preview","play","pause","addSongsToPlaylist","arrayWithSongs","concat","addArtist","removeArtist","addObserver","callback","removeObserver","obs","cb","e","setcurrentSong"],"mappings":"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","sourcesContent":["class PlaylistModel {\r\n    constructor() {\r\n        this.playlistID = \"1\";\r\n        this.playlistName = \"Edit Name\";\r\n        this.chosenNumberOfSongs = 0;\r\n        this.actualNumberOfSongs = 0;\r\n        this.explicit = false;\r\n        this.genres = [];\r\n        this.currentSong = null;\r\n        this.songs = [];\r\n        this.observers = [];\r\n        this.artist = null;\r\n        this.total = 0;\r\n        this.currentSong = null;\r\n        this.currentAudio = null;\r\n        this.playlistDone = false;\r\n    }\r\n\r\n    addGenre(radioID, value, name) {\r\n\r\n        if (value == 0) {\r\n            console.log(\"remove\")\r\n            this.removeGenre(radioID);\r\n            this.setTotalPercent();\r\n            return;\r\n        }\r\n        if (this.genres.some(g => g.id === radioID)) {\r\n            this.genres.find(g => g.id === radioID).value = (value / 100);\r\n            this.setTotalPercent();\r\n            return;\r\n        }\r\n\r\n        this.genres = [...this.genres, { id: radioID }];\r\n        this.genres.find(x => x.id === radioID).value = (value / 100);\r\n        this.genres.find(x => x.id === radioID).name = name;\r\n        console.log(this.genres);\r\n        this.setTotalPercent();\r\n        console.log(this.total)\r\n\r\n\r\n        this.notifyObservers();\r\n    }\r\n\r\n    removeGenre(radioID) {\r\n        this.genres = this.genres.filter((genre) => genre.id !== radioID);\r\n        this.notifyObservers();\r\n    }\r\n\r\n    setTotalPercent() {\r\n        let total = 0;\r\n        this.genres.forEach(genre => {\r\n            total += genre.value;\r\n        });\r\n        this.total = total;\r\n        this.notifyObservers();\r\n    }\r\n\r\n    setNumberOfSongs(length) {\r\n        this.chosenNumberOfSongs = length;\r\n        console.log(this.chosenNumberOfSongs)\r\n        this.notifyObservers();\r\n    }\r\n\r\n    setActualNumberOfSongs(length){\r\n        this.actualNumberOfSongs += length;\r\n        if(this.actualNumberOfSongs >= this.chosenNumberOfSongs){\r\n            return;\r\n        }\r\n        console.log(this.actualNumberOfSongs)\r\n        this.notifyObservers();\r\n    }\r\n\r\n    setExplicit(choice) {\r\n        console.log(choice)\r\n        this.explicit = choice;\r\n        console.log(this.explicit);\r\n        this.notifyObservers();\r\n    }\r\n\r\n    setPlaylistName(name) {\r\n        this.playlistName = name;\r\n        this.notifyObservers();\r\n    }\r\n\r\n    setCurrentSong(song) {\r\n        if (this.currentSong === song) {\r\n            this.removeCurrentAudio();\r\n            return;\r\n        }\r\n        if(this.currentAudio !== null){\r\n            this.removeCurrentAudio();\r\n        }\r\n        this.currentSong = song;\r\n        this.setCurrentAudio(song);\r\n        this.notifyObservers();\r\n    }\r\n\r\n    setCurrentAudio(song) {\r\n        this.currentAudio = new Audio();\r\n        this.currentAudio.src = song.preview;\r\n        this.currentAudio.play();\r\n        this.notifyObservers();\r\n    }\r\n\r\n    removeCurrentAudio() {\r\n        this.currentAudio.pause();\r\n        this.currentSong = null;\r\n        this.notifyObservers();\r\n    }\r\n\r\n    addSongsToPlaylist(arrayWithSongs) {\r\n        console.log(this.chosenNumberOfSongs)\r\n        if(this.songs.length >= this.chosenNumberOfSongs){\r\n            return;\r\n        }\r\n        this.songs = this.songs.concat(arrayWithSongs);\r\n        console.log(this.actualNumberOfSongs)\r\n        this.playlistDone = true;\r\n        \r\n        this.notifyObservers();\r\n    }\r\n\r\n    addArtist(artist) {\r\n        this.artist = artist;\r\n        this.notifyObservers();\r\n    }\r\n\r\n    removeArtist() {\r\n        this.artist = null;\r\n        this.notifyObservers();\r\n    }\r\n\r\n    addObserver(callback) {\r\n        this.observers = [... this.observers, callback];\r\n    }\r\n    removeObserver(callback) {\r\n        this.observers = this.observers.filter(obs => obs !== callback);\r\n    }\r\n    notifyObservers() {\r\n        this.observers.forEach(cb => {\r\n            try { cb() } catch (e) { console.log(e) }\r\n        });\r\n    }\r\n    setcurrentSong(id) {\r\n        if (this.currentSong = id) {\r\n            return;\r\n        }\r\n        this.currentSong = id;\r\n        this.notifyObservers();\r\n    }\r\n}\r\n\r\nexport default PlaylistModel;"]},"metadata":{},"sourceType":"module"}